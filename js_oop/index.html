<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS OOP</title>
    <script>

        //FEATURE SET 1
        var coinStack = function(startingCoins) {
            this.value = startingCoins;
            this.addCoins = function(newCoins){
                this.value = this.value + newCoins;
            };
            this.removeCoins = function(lostCoins){
                if (this.value >= lostCoins){
                    this.value = this.value - lostCoins;
                }
                else {
                    lostCoins = this.value;
                    this.value = 0;
                }
                return lostCoins;
            }
        };
        var myCoinStack = new coinStack(50);
        console.log('myCoinStack contains ' + myCoinStack.value + ' coins');
        myCoinStack.addCoins(15);
        console.log('I have '+ myCoinStack.value +' coins in my coin stack.');
        myCoinStack.removeCoins(37);
        console.log('I have '+ myCoinStack.value +' coins in my coin stack.');
        myCoinStack.removeCoins(55);
        console.log('I have '+ myCoinStack.value +' coins in my coin stack.');

        //FEATURE SET 3

        coinStack.prototype.transferCoins = function (transferFrom, transferAmount) {
            this.addCoins(transferFrom.removeCoins(transferAmount));
        }

        var ericsCoins = new coinStack(50);
        var dansCoins = new coinStack(50);

        console.log('Eric has '+ericsCoins.value+' coins.');
        console.log('Dan has '+dansCoins.value+' coins.');

        dansCoins.transferCoins(ericsCoins,30);

        console.log('After the transfer, Eric has '+ericsCoins.value+' coins.');
        console.log('After the transfer, Dan has '+dansCoins.value+' coins.');

        dansCoins.transferCoins(ericsCoins,120);

        console.log('After the transfer, Eric has '+ericsCoins.value+' coins.');
        console.log('After the transfer, Dan has '+dansCoins.value+' coins.');
    </script>
</head>
<body>
<h1>Javascript OOP Prototype</h1>
</body>
</html>